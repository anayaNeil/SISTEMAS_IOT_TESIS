<!DOCTYPE html>
<html lang="es" xml:lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ESP IoT Firebase App</title>
  <!-- update the version number as needed -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <!-- include only the Firebase features as you need -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>



  <!-- jsPDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Highcharts Exporting Module -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>

  <script>
    // REPLACE WITH YOUR web app's Firebase configuration

    const firebaseConfig = {
      apiKey: "AIzaSyAxxnDvC7fPfyKq69esOx_TwEoK5bqknUM",
      authDomain: "control-iot-esp-fb943.firebaseapp.com",
      projectId: "control-iot-esp-fb943",
      storageBucket: "control-iot-esp-fb943.appspot.com",
      messagingSenderId: "566904791947",
      appId: "1:566904791947:web:5951743108166cba90458e",
      measurementId: "G-V9N31Q7YHS"
    };


    // Initialize firebase
    firebase.initializeApp(firebaseConfig);
    // Make auth and database references
    const auth = firebase.auth();
    const db = firebase.database();
  </script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
    integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>



  <!-- AUTHENTICATION BAR (USER DETAILS/LOGOUT BUTTON) -->
  <div id="authentication-bar" style="display: none;">
    <p>
      <span id="authentication-status">Usuario logueado</span>
      <span id="user-details">USEREMAIL</span>
      <a href="#" id="logout-link">(logout)</a>
    </p>
  </div>

<!-- Contenedor principal del Login -->
<div class="login-container" id="login-container">
  <!-- Imagen de fondo -->
  <div class="background"></div>
  
  <!-- Formulario de login -->
  <form id="login-form">
    <div class="form-elements-container">
      <div class="input-group">
        <i class="fas fa-user"></i>
        <input type="email" placeholder="Usuario" id="input-email" required>
      </div>
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input type="password" placeholder="Contraseña" id="input-password" required>
      </div>
  
      <button type="submit" id="login-button">Login</button>
  
      <!-- Mensaje de error (Ocultado inicialmente) -->
      <div id="error-message" class="error-message" style="display: none;">
        <span class="error-icon">❌</span>
        <span class="error-text">Los datos de esta cuenta son incorrectos</span>
      </div>
    </div>
  </form>
  
  





</div>



  <!--CONTENT (SENSOR READINGS)-->
  <div class="content-sign-in" id="content-sign-in" style="display: none;">
    <div class="cards">
      <!--TEMPERATURE-->
      <div class="card">
        <p><i class="fas fa-thermometer-half" style="color:#e72b3b;"></i> TEMPERATURA</p>
        <p><span class="reading"><span id="temp"></span> °C</span></p>
      </div>

    </div>


    <div id="charts-div">
      <!--SET NUMBER OF READINGS INPUT FIELD-->
      <!--TEMPERATURE-CHART-->
      <div class="cards">
        <div class="card">
          <p><i class="fas fa-thermometer-half" style="color:#059e8a;"></i> Historial </p>
          <div id="chart-temperature" class="chart-container"></div>
        </div>
      </div>

      <!-- Botón para generar reporte -->
      <div style="text-align: center; margin-top: 20px;">
        <button id="generate-report" onclick="generateReport()">Mostrar Historial</button>

      </div>

      <div style="text-align: center; margin-top: 20px;">
        <button onclick="window.open('scripts/manual.html', '_blank')">Abrir Manual</button>
      </div>
      
      
    </div>
  </div>



  </div>

  </div>
  <script src="scripts/auth.js"></script>
  <script src="scripts/index.js"></script>
  <script src="scripts/charts-definitions.js"></script>
  <script src="scripts/reporte.js"></script>
  <script src="scripts/manual.js"></script>
</body>

</html>